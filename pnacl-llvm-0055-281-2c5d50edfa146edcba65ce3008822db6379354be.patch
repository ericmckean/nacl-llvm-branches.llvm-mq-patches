# HG changeset patch
# User David Meyer <pdox@google.com>
# Date 1310632045 25200
# Branch pnacl-sfi
# Node ID 2c5d50edfa146edcba65ce3008822db6379354be
# Parent d1b961a2a5bd84acb2b8aa6a68a808982039abd4
Fix the libLTO soname fix

 From pnacl-llvm-0055-281-2c5d50edfa146edcba65ce3008822db6379354be.patch

diff -r d1b961a2a5bd tools/lto/Makefile
--- a/tools/lto/Makefile	Thu Jul 14 00:08:29 2011 -0700
+++ b/tools/lto/Makefile	Wed Jul 27 14:41:44 2011 -0700
@@ -60,5 +60,7 @@
 #@ LOCALMOD-BEGIN
 # This is to fix an upstream bug. It is in the process of being upstreamed.
 # This line can be removed after it has been fixed upstream and we've merged.
-LLVMLibsOptions := $(LLVMLibsOptions) -Wl,-soname=$(SharedPrefix)LTO$(SHLIBEXT)
+ifneq ($(HOST_OS),Darwin)
+  LLVMLibsOptions := $(LLVMLibsOptions) -Wl,-soname=$(SharedPrefix)LTO$(SHLIBEXT)
+endif
 #@ LOCALMOD-END
