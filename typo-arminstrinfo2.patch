# HG changeset patch
# Parent 74e385b4335782fa0d6265fd641d41d2a94de2bc
# User Jason Kim <jasonwkim@google.com>
typo

diff -r 74e385b43357 -r 764461275d39 lib/Target/ARM/ARMNaClRewritePass.cpp
--- a/lib/Target/ARM/ARMNaClRewritePass.cpp	Thu Aug 11 15:20:26 2011 -0700
+++ b/lib/Target/ARM/ARMNaClRewritePass.cpp	Thu Aug 11 15:39:53 2011 -0700
@@ -241,11 +241,9 @@
       return true;
 
     // Similar, unless it is a load into SP...
-    case ARM::LDR_PRE_IMM:
-    case ARM::LDR_PRE_REG:
+    case ARM::LDR_PRE:
     case ARM::LDRH_PRE:
-    case ARM::LDRB_PRE_IMM:
-    case ARM::LDRB_PRE_REG:
+    case ARM::LDRB_PRE:
     case ARM::LDRSH_PRE:
     case ARM::LDRSB_PRE: {
       const MachineOperand &DestReg = MI.getOperand(0);
@@ -260,7 +258,8 @@
     case ARM::STR_POST_REG:
     case ARM::STR_POST_IMM:
     case ARM::STRH_POST:
-    case ARM::STRB_POST: {
+    case ARM::STRB_POST_REG:
+    case ARM::STRB_POST_IMM: {
       const MachineOperand &WBReg = MI.getOperand(0);
       const MachineOperand &OffReg = MI.getOperand(3);
       if (WBReg.getReg() == ARM::SP && OffReg.getReg() != 0) {
@@ -510,9 +509,9 @@
   case ARM::STMIB:
 
   case ARM::VSTMDIA:
-  case ARM::VSTMDDB:
+    // case ARM::VSTMDDB:
   case ARM::VSTMSIA:
-  case ARM::VSTMSDB:
+    // case ARM::VSTMSDB:
     *AddrIdx = 0;
     break;
 
@@ -537,10 +536,14 @@
     break;
 
   // Instructions with base address register in position 2...
-  case ARM::STR_PRE:
-  case ARM::STR_POST:
-  case ARM::STRB_PRE:
-  case ARM::STRB_POST:
+  case ARM::STR_PRE_REG:
+  case ARM::STR_PRE_IMM:
+  case ARM::STR_POST_REG:
+  case ARM::STR_POST_IMM:
+  case ARM::STRB_PRE_IMM:
+  case ARM::STRB_PRE_REG:
+  case ARM::STRB_POST_REG:
+  case ARM::STRB_POST_IMM:
   case ARM::STRH_PRE:
   case ARM::STRH_POST:
   case ARM::STRD:
