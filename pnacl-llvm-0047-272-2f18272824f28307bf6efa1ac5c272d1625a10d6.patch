# HG changeset patch
# User Jan Voung <jvoung@google.com>
# Date 1308866181 25200
# Branch pnacl-sfi
# Node ID 2f18272824f28307bf6efa1ac5c272d1625a10d6
# Parent be3c37f4899680c417aed3cffbf935f1b3c76580
Update ARM TLS constants to match tls_params.h
http://codereview.chromium.org/7248021/

 From pnacl-llvm-0047-272-2f18272824f28307bf6efa1ac5c272d1625a10d6.patch

diff -r be3c37f48996 lib/Target/ARM/ARMISelLowering.cpp
--- a/lib/Target/ARM/ARMISelLowering.cpp	Wed Jun 22 16:35:27 2011 -0700
+++ b/lib/Target/ARM/ARMISelLowering.cpp	Tue Jul 26 13:38:16 2011 -0700
@@ -1944,9 +1944,9 @@
 SDValue ARMTargetLowering::LowerNaClTpAlign(SDValue Op,
                                             SelectionDAG &DAG) const {
   // size_t __nacl_tp_alignment () {
-  //   return 1 << 12;
+  //   return 4;
   // }
-  return DAG.getConstant(4096, Op.getValueType().getSimpleVT());
+  return DAG.getConstant(4, Op.getValueType().getSimpleVT());
 }
 
 SDValue ARMTargetLowering::LowerNaClTpTlsOffset(SDValue Op,
@@ -1972,9 +1972,9 @@
 ARMTargetLowering::LowerNaClThreadStackPadding(SDValue Op,
                                                SelectionDAG &DAG) const {
   // size_t __nacl_thread_stack_padding () {
-  //   return 4;
+  //   return 0;
   // }
-  return DAG.getConstant(4, Op.getValueType().getSimpleVT());
+  return DAG.getConstant(0, Op.getValueType().getSimpleVT());
 }
 
 //////////////////////////////////////////////////////////////////////
